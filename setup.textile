h2. requirements

* Ruby 1.9.3
* bundler installed (eg. via gem install bundler)

h2. Setup

h3. Clone the vagrant-oddb git and install the needed gems

* @git clone git://github.com/ngiger/vagrant-oddb_org.git@
* @cd vagrant-oddb@
* @bundle install@

h3. Create a basebox using veewee

* @git clone git://github.com/jedi4ever/veewee.git@
* @cd veewee@
* @bundle install@
* @cp -rp ../vagrant-oddb_org/definitions .@
* @vagrant basebox build  funtoo-oddb@ # may take an hour or more
* @vagrant basebox export funtoo-oddb@
* @vagrant box add funtoo-oddb funtoo-oddb.box@

h3. Create and edit your configuration

The configuration with all your private data and keys is YAML file name @/path/to/clone/of/vagrant-oddb_org/hieradata/private/config.yaml@. You have to create the folder. Then you create the file and place the following definitions in it.
We assume that the mail server supports SMTP with TLS.

bc. "::oddb_org::mail::smtp_host":  smtp.provider.net:port
"::oddb_org::mail::user":       user.account@provider.net
"::oddb_org::mail::password":   topsecret_password
"::oddb_org::hostname":         oddb.niklaus.org
# don't change the following name. It seems that we can only work with the vagrant default
"::oddb_org::ip":               10.0.2.15
'::oddb_org::username':         a_user
'::oddb_org::root_name':        a_user@ywesee.com
'::oddb_org::root_hash':        ec74c79bb6e82b4a0a448f6a1134d8fd4fd3c6ff40fd7ec58adee9805c757c00
 
h3. Start vagrant

* @cd /path/to/clone/of/vagrant-oddb_org@
** @vagrant up@  # will take half an hour or so

h2. remarks

If you want to change the servername you have to edit the following file
* hieradata/private/config.yml 
and create a definition for your host, e.g. using a logical link
* @ln -s oddb.pp manifests/nodes/your_hostname.pp@
